-- H2 2.1.214; 
;              
CREATE USER IF NOT EXISTS "SA" SALT '365fa3c923c14cbe' HASH '745a363e12aa2deec6e198fda70f761cba6e7db7b7feec7108c7ef77edafde2c' ADMIN;          
CREATE MEMORY TABLE "PUBLIC"."ROLE"(
    "ID_ROLE" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 3) NOT NULL,
    "NAME" CHARACTER VARYING(255)
);         
ALTER TABLE "PUBLIC"."ROLE" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_2" PRIMARY KEY("ID_ROLE");     
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.ROLE;     
INSERT INTO "PUBLIC"."ROLE" VALUES(1, 'ADMIN');
INSERT INTO "PUBLIC"."ROLE" VALUES(2, 'USER'); 

CREATE USER IF NOT EXISTS "SA" SALT '365fa3c923c14cbe' HASH '745a363e12aa2deec6e198fda70f761cba6e7db7b7feec7108c7ef77edafde2c' ADMIN;          
CREATE MEMORY TABLE "PUBLIC"."USUARIO"(
    "ID_USUARIO" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 2) NOT NULL,
    "CREATED" CHARACTER VARYING(255),
    "EMAIL" CHARACTER VARYING(255),
    "ISACTIVE" BOOLEAN,
    "LAST_LOGIN" CHARACTER VARYING(255),
    "MODIFIED" CHARACTER VARYING(255),
    "PASSWORD" CHARACTER VARYING(255),
    "TOKEN" CHARACTER VARYING(255),
    "USERNAME" CHARACTER VARYING(255)
);  
ALTER TABLE "PUBLIC"."USUARIO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_22" PRIMARY KEY("ID_USUARIO");              
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.USUARIO;  
INSERT INTO "PUBLIC"."USUARIO" VALUES(1, '2024-12-18T10:31:18.252775217', 'gvidal@gmail.com', TRUE, '2024-12-18T10:31:21.100837780', NULL, '$2a$10$sdU2VJnGyue9JPjr4MibfekH0.lWhYoE0EfAEZPmmaM6XhatQkriy', 'eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiJndmlkYWwiLCJpYXQiOjE3MzQ1Mjg2ODEsImV4cCI6MTczNDUyODk4MX0.EZwB3MMPqercuwN5WDjpaBhQEVVSisa7MjjfMT53WD5Iqsp5gOXquVLkgPok6dJPTtJ0g6tmA5gCRyabZsBuew', 'gvidal');

CREATE USER IF NOT EXISTS "SA" SALT '365fa3c923c14cbe' HASH '745a363e12aa2deec6e198fda70f761cba6e7db7b7feec7108c7ef77edafde2c' ADMIN;          
CREATE MEMORY TABLE "PUBLIC"."USUARIO_ROLES"(
    "USUARIO_ID" BIGINT NOT NULL,
    "ROLE_ID" BIGINT NOT NULL
);               
-- 1 +/- SELECT COUNT(*) FROM PUBLIC.USUARIO_ROLES;            
INSERT INTO "PUBLIC"."USUARIO_ROLES" VALUES(1, 1);             
ALTER TABLE "PUBLIC"."USUARIO_ROLES" ADD CONSTRAINT "PUBLIC"."FK3T77LXRS76NTHHNI13CTC7DLJ" FOREIGN KEY("ROLE_ID") REFERENCES "PUBLIC"."ROLE"("ID_ROLE") NOCHECK;               
ALTER TABLE "PUBLIC"."USUARIO_ROLES" ADD CONSTRAINT "PUBLIC"."FKQBLNUMNDBY0FTM4C7SG6USO6P" FOREIGN KEY("USUARIO_ID") REFERENCES "PUBLIC"."USUARIO"("ID_USUARIO") NOCHECK;      

CREATE USER IF NOT EXISTS "SA" SALT '365fa3c923c14cbe' HASH '745a363e12aa2deec6e198fda70f761cba6e7db7b7feec7108c7ef77edafde2c' ADMIN;          
CREATE MEMORY TABLE "PUBLIC"."PHONES"(
    "ID_PHONE" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1 RESTART WITH 3) NOT NULL,
    "CITY_CODE" INTEGER,
    "COUNTRY_CODE" INTEGER,
    "TELEFONO" BIGINT,
    "USUARIO_ID" BIGINT
);    
ALTER TABLE "PUBLIC"."PHONES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID_PHONE");  
-- 2 +/- SELECT COUNT(*) FROM PUBLIC.PHONES;   
INSERT INTO "PUBLIC"."PHONES" VALUES(1, 65, 56, 2211574, 1);   
INSERT INTO "PUBLIC"."PHONES" VALUES(2, 9, 56, 42874817, 1);   
ALTER TABLE "PUBLIC"."PHONES" ADD CONSTRAINT "PUBLIC"."FK8818JVHVA5SF61541BM6PD3AL" FOREIGN KEY("USUARIO_ID") REFERENCES "PUBLIC"."USUARIO"("ID_USUARIO") NOCHECK;             
